<% content_for :body_class do %>
<% end%>
<% content_for :ribbon do %>
  <!-- RIBBON -->
  <div id="ribbon">
    <!-- breadcrumb -->
    <ol class="breadcrumb">
      <li>首页</li>
      <li>测试用例</li>
    </ol>
  </div>
  <!-- END RIBBON -->
<% end %>
<!-- MAIN CONTENT -->
<div id="content">
  <!-- widget grid -->
  <section id="widget-grid" class="">
    <p id="notice"><%= notice %></p>
    <!-- row -->
    <div class="row">
      <!-- NEW WIDGET START -->
      <article class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
        <div class="jarviswidget jarviswidget-color-blueDark" id="wid-id-0" data-widget-editbutton="false">
          <header>
            <span class="widget-icon"> <i class="fa fa-table"></i> </span>
            <h2>用例<%= @testcase.case_id%></h2>
          </header>
          <!-- widget div-->
          <div>
            <!-- widget edit box -->
            <div class="jarviswidget-editbox">
              <!-- This area used as dropdown edit box -->
            </div>
            <!-- end widget edit box -->
            <!-- widget content -->
            <div class="widget-body">
              <div class="table-responsive">
                <!--start codemirror-->
                <!-- end codemirror -->
                <%= form_with(model: @testcase, local: true , class: "form-horizontal m-t", url: updatetestcase_svncontent_path , method: 'POST') do |form| %>
                  <% if @testcase.errors.any? %>
                    <div id="error_explanation">
                      <h2><%= pluralize(@testcase.errors.count, "error") %> error</h2>
                      <ul>
                        <% @testcase.errors.full_messages.each do |message| %>
                          <li><%= message %></li>
                        <% end %>
                      </ul>
                    </div>
                  <% end %>
                  <div class="form-group">
                    <label class="col-sm-3 control-label">content</label>
                    <div class="col-sm-8">
                      <textarea id="svncontent" required="required" class="form-control" rows="5" name="testcase[svncontent]"><%= @svncontent%></textarea>
                    </div>
                  </div>
                  <div class="form-group">
                    <div class="col-sm-4 col-sm-offset-3">
                      <button type="submit" class="btn btn-primary" id="form_submit">
                        修改
                      </button>
                      <button type="button" class="btn btn-default" onclick="window.history.back();">
                        返回
                      </button>
                    </div>
                  </div>
                <% end %>
              </div>
            </div>
            <!-- end widget content -->
          </div>
          <!-- end widget div -->
        </div>
        <!-- end widget -->
      </div>
      <!-- end row -->
    </section>
    <!-- end widget grid -->
  </div>
  <!-- END MAIN CONTENT -->
  
  <script type="text/javascript">
    var editor = CodeMirror.fromTextArea(document.getElementById("svncontent"), {
      mode: "text/x-ruby",
      matchBrackets: true,
      lineNumbers: true,
      extraKeys: {"Ctrl": "autocomplete"},
      theme: "rubyblue",
      indentUnit: 4
    });
  </script>
